/*
  These C codes generated by Cpi version 1.0
  Copyright (C) 2019 Alireza Rashti.
*/


#include "bbn_headers.h"


void bbn_free_data_Ricci(Grid_T *const grid)
{
  const unsigned np = grid->np;
  unsigned p;

  OpenMP_Patch_Pragma(omp parallel for)
  for(p = 0; p < np; ++p)
  {
    Patch_T *patch = grid->patch[p];

    /* declaring: */
    READ_v_UNUSED(_gammaI_U0U2)
    READ_v_UNUSED(_gammaI_U0U0)
    READ_v_UNUSED(_gammaI_U0U1)
    READ_v_UNUSED(_gammaI_U1U2)
    READ_v_UNUSED(_gammaI_U1U1)
    READ_v_UNUSED(_gammaI_U2U2)
    READ_v_UNUSED(_dGamma_U2D2D2D2)
    READ_v_UNUSED(_dGamma_U2D2D2D0)
    READ_v_UNUSED(_dGamma_U2D2D2D1)
    READ_v_UNUSED(_dGamma_U2D0D0D2)
    READ_v_UNUSED(_dGamma_U1D1D2D2)
    READ_v_UNUSED(_dGamma_U2D0D0D0)
    READ_v_UNUSED(_dGamma_U1D1D2D0)
    READ_v_UNUSED(_dGamma_U1D1D2D1)
    READ_v_UNUSED(_dGamma_U2D1D1D0)
    READ_v_UNUSED(_dGamma_U2D0D0D1)
    READ_v_UNUSED(_dGamma_U2D0D2D1)
    READ_v_UNUSED(_dGamma_U1D0D1D0)
    READ_v_UNUSED(_dGamma_U1D0D1D1)
    READ_v_UNUSED(_dGamma_U1D0D1D2)
    READ_v_UNUSED(_dGamma_U1D2D2D1)
    READ_v_UNUSED(_dGamma_U1D0D0D1)
    READ_v_UNUSED(_dGamma_U1D0D0D0)
    READ_v_UNUSED(_dGamma_U1D0D0D2)
    READ_v_UNUSED(_dGamma_U0D1D2D2)
    READ_v_UNUSED(_dGamma_U0D1D2D1)
    READ_v_UNUSED(_dGamma_U0D1D2D0)
    READ_v_UNUSED(_dGamma_U2D0D2D0)
    READ_v_UNUSED(_dGamma_U1D0D2D2)
    READ_v_UNUSED(_dGamma_U1D0D2D1)
    READ_v_UNUSED(_dGamma_U1D0D2D0)
    READ_v_UNUSED(_dGamma_U2D1D1D2)
    READ_v_UNUSED(_dGamma_U2D0D2D2)
    READ_v_UNUSED(_dGamma_U0D0D1D0)
    READ_v_UNUSED(_dGamma_U1D2D2D0)
    READ_v_UNUSED(_dGamma_U2D1D2D1)
    READ_v_UNUSED(_dGamma_U2D0D1D2)
    READ_v_UNUSED(_dGamma_U2D0D1D1)
    READ_v_UNUSED(_dGamma_U2D0D1D0)
    READ_v_UNUSED(_dGamma_U2D1D2D2)
    READ_v_UNUSED(_dGamma_U0D1D1D0)
    READ_v_UNUSED(_dGamma_U0D1D1D1)
    READ_v_UNUSED(_dGamma_U0D1D1D2)
    READ_v_UNUSED(_dGamma_U1D2D2D2)
    READ_v_UNUSED(_dGamma_U1D1D1D1)
    READ_v_UNUSED(_dGamma_U1D1D1D0)
    READ_v_UNUSED(_dGamma_U1D1D1D2)
    READ_v_UNUSED(_dGamma_U0D0D1D1)
    READ_v_UNUSED(_dGamma_U0D0D2D2)
    READ_v_UNUSED(_dGamma_U0D0D2D0)
    READ_v_UNUSED(_dGamma_U0D0D2D1)
    READ_v_UNUSED(_dGamma_U2D1D2D0)
    READ_v_UNUSED(_dGamma_U0D0D0D0)
    READ_v_UNUSED(_dGamma_U0D0D0D1)
    READ_v_UNUSED(_dGamma_U0D0D0D2)
    READ_v_UNUSED(_dGamma_U2D1D1D1)
    READ_v_UNUSED(_dGamma_U0D2D2D0)
    READ_v_UNUSED(_dGamma_U0D2D2D1)
    READ_v_UNUSED(_dGamma_U0D2D2D2)
    READ_v_UNUSED(_dGamma_U0D0D1D2)
    READ_v_UNUSED(_Gamma_U2D1D1)
    READ_v_UNUSED(_Gamma_U2D1D2)
    READ_v_UNUSED(_Gamma_U0D1D1)
    READ_v_UNUSED(_Gamma_U2D0D2)
    READ_v_UNUSED(_Gamma_U2D2D2)
    READ_v_UNUSED(_Gamma_U0D1D2)
    READ_v_UNUSED(_Gamma_U0D0D2)
    READ_v_UNUSED(_Gamma_U0D0D1)
    READ_v_UNUSED(_Gamma_U0D0D0)
    READ_v_UNUSED(_Gamma_U1D2D2)
    READ_v_UNUSED(_Gamma_U2D0D1)
    READ_v_UNUSED(_Gamma_U0D2D2)
    READ_v_UNUSED(_Gamma_U2D0D0)
    READ_v_UNUSED(_Gamma_U1D0D2)
    READ_v_UNUSED(_Gamma_U1D1D2)
    READ_v_UNUSED(_Gamma_U1D0D0)
    READ_v_UNUSED(_Gamma_U1D0D1)
    READ_v_UNUSED(_Gamma_U1D1D1)
    REALLOC_v_WRITE_v(_Ric_D2D2)
    REALLOC_v_WRITE_v(_Ric_D1D2)
    REALLOC_v_WRITE_v(_Ric_D1D1)
    REALLOC_v_WRITE_v(_Ric_D0D2)
    REALLOC_v_WRITE_v(_Ric_D0D1)
    REALLOC_v_WRITE_v(_Ric_D0D0)


    unsigned nn = patch->nn;
    unsigned ijk;
    REALLOC_v_WRITE_v(_R)
    for(ijk = 0; ijk < nn; ++ijk)
    {
    double Ric1_D0D0 = 
_dGamma_U0D0D0D0[ijk] + _dGamma_U1D0D0D1[ijk] + _dGamma_U2D0D0D2[ijk];

    double Ric1_D2D2 = 
_dGamma_U0D2D2D0[ijk] + _dGamma_U1D2D2D1[ijk] + _dGamma_U2D2D2D2[ijk];

    double Ric1_D1D2 = 
_dGamma_U0D1D2D0[ijk] + _dGamma_U1D1D2D1[ijk] + _dGamma_U2D1D2D2[ijk];

    double Ric1_D0D2 = 
_dGamma_U0D0D2D0[ijk] + _dGamma_U1D0D2D1[ijk] + _dGamma_U2D0D2D2[ijk];

    double Ric1_D0D1 = 
_dGamma_U0D0D1D0[ijk] + _dGamma_U1D0D1D1[ijk] + _dGamma_U2D0D1D2[ijk];

    double Ric1_D1D1 = 
_dGamma_U0D1D1D0[ijk] + _dGamma_U1D1D1D1[ijk] + _dGamma_U2D1D1D2[ijk];

    double Ric2_D2D2 = 
-_dGamma_U0D0D2D2[ijk] - _dGamma_U1D1D2D2[ijk] - _dGamma_U2D2D2D2[ijk];

    double Ric2_D0D0 = 
-_dGamma_U0D0D0D0[ijk] - _dGamma_U1D0D1D0[ijk] - _dGamma_U2D0D2D0[ijk];

    double Ric2_D0D2 = 
-_dGamma_U0D0D0D2[ijk] - _dGamma_U1D0D1D2[ijk] - _dGamma_U2D0D2D2[ijk];

    double Ric2_D1D2 = 
-_dGamma_U0D0D1D2[ijk] - _dGamma_U1D1D1D2[ijk] - _dGamma_U2D1D2D2[ijk];

    double Ric2_D1D1 = 
-_dGamma_U0D0D1D1[ijk] - _dGamma_U1D1D1D1[ijk] - _dGamma_U2D1D2D1[ijk];

    double Ric2_D0D1 = 
-_dGamma_U0D0D0D1[ijk] - _dGamma_U1D0D1D1[ijk] - _dGamma_U2D0D2D1[ijk];

    double Ric3_D1D1 = 
_Gamma_U0D0D0[ijk]*_Gamma_U0D1D1[ijk] + _Gamma_U0D0D1[ijk]*
_Gamma_U1D1D1[ijk] + _Gamma_U0D0D2[ijk]*_Gamma_U2D1D1[ijk] + 
_Gamma_U0D1D1[ijk]*_Gamma_U1D0D1[ijk] + _Gamma_U0D1D1[ijk]*
_Gamma_U2D0D2[ijk] + pow(_Gamma_U1D1D1[ijk], 2) + _Gamma_U1D1D1[ijk]*
_Gamma_U2D1D2[ijk] + _Gamma_U1D1D2[ijk]*_Gamma_U2D1D1[ijk] + 
_Gamma_U2D1D1[ijk]*_Gamma_U2D2D2[ijk];

    double Ric3_D1D2 = 
_Gamma_U0D0D0[ijk]*_Gamma_U0D1D2[ijk] + _Gamma_U0D0D1[ijk]*
_Gamma_U1D1D2[ijk] + _Gamma_U0D0D2[ijk]*_Gamma_U2D1D2[ijk] + 
_Gamma_U0D1D2[ijk]*_Gamma_U1D0D1[ijk] + _Gamma_U0D1D2[ijk]*
_Gamma_U2D0D2[ijk] + _Gamma_U1D1D1[ijk]*_Gamma_U1D1D2[ijk] + 2.0*
_Gamma_U1D1D2[ijk]*_Gamma_U2D1D2[ijk] + _Gamma_U2D1D2[ijk]*
_Gamma_U2D2D2[ijk];

    double Ric3_D0D1 = 
_Gamma_U0D0D0[ijk]*_Gamma_U0D0D1[ijk] + 2.0*_Gamma_U0D0D1[ijk]*
_Gamma_U1D0D1[ijk] + _Gamma_U0D0D1[ijk]*_Gamma_U2D0D2[ijk] + 
_Gamma_U0D0D2[ijk]*_Gamma_U2D0D1[ijk] + _Gamma_U1D0D1[ijk]*
_Gamma_U1D1D1[ijk] + _Gamma_U1D0D1[ijk]*_Gamma_U2D1D2[ijk] + 
_Gamma_U1D1D2[ijk]*_Gamma_U2D0D1[ijk] + _Gamma_U2D0D1[ijk]*
_Gamma_U2D2D2[ijk];

    double Ric3_D0D0 = 
pow(_Gamma_U0D0D0[ijk], 2) + _Gamma_U0D0D0[ijk]*_Gamma_U1D0D1[ijk] + 
_Gamma_U0D0D0[ijk]*_Gamma_U2D0D2[ijk] + _Gamma_U0D0D1[ijk]*
_Gamma_U1D0D0[ijk] + _Gamma_U0D0D2[ijk]*_Gamma_U2D0D0[ijk] + 
_Gamma_U1D0D0[ijk]*_Gamma_U1D1D1[ijk] + _Gamma_U1D0D0[ijk]*
_Gamma_U2D1D2[ijk] + _Gamma_U1D1D2[ijk]*_Gamma_U2D0D0[ijk] + 
_Gamma_U2D0D0[ijk]*_Gamma_U2D2D2[ijk];

    double Ric3_D0D2 = 
_Gamma_U0D0D0[ijk]*_Gamma_U0D0D2[ijk] + _Gamma_U0D0D1[ijk]*
_Gamma_U1D0D2[ijk] + _Gamma_U0D0D2[ijk]*_Gamma_U1D0D1[ijk] + 2.0*
_Gamma_U0D0D2[ijk]*_Gamma_U2D0D2[ijk] + _Gamma_U1D0D2[ijk]*
_Gamma_U1D1D1[ijk] + _Gamma_U1D0D2[ijk]*_Gamma_U2D1D2[ijk] + 
_Gamma_U1D1D2[ijk]*_Gamma_U2D0D2[ijk] + _Gamma_U2D0D2[ijk]*
_Gamma_U2D2D2[ijk];

    double Ric3_D2D2 = 
_Gamma_U0D0D0[ijk]*_Gamma_U0D2D2[ijk] + _Gamma_U0D0D1[ijk]*
_Gamma_U1D2D2[ijk] + _Gamma_U0D0D2[ijk]*_Gamma_U2D2D2[ijk] + 
_Gamma_U0D2D2[ijk]*_Gamma_U1D0D1[ijk] + _Gamma_U0D2D2[ijk]*
_Gamma_U2D0D2[ijk] + _Gamma_U1D1D1[ijk]*_Gamma_U1D2D2[ijk] + 
_Gamma_U1D1D2[ijk]*_Gamma_U2D2D2[ijk] + _Gamma_U1D2D2[ijk]*
_Gamma_U2D1D2[ijk] + pow(_Gamma_U2D2D2[ijk], 2);

    double Ric4_D0D0 = 
-pow(_Gamma_U0D0D0[ijk], 2) - 2.0*_Gamma_U0D0D1[ijk]*
_Gamma_U1D0D0[ijk] - 2.0*_Gamma_U0D0D2[ijk]*_Gamma_U2D0D0[ijk] - 
pow(_Gamma_U1D0D1[ijk], 2) - 2.0*_Gamma_U1D0D2[ijk]*
_Gamma_U2D0D1[ijk] - pow(_Gamma_U2D0D2[ijk], 2);

    double Ric4_D0D1 = 
-_Gamma_U0D0D0[ijk]*_Gamma_U0D0D1[ijk] - _Gamma_U0D0D1[ijk]*
_Gamma_U1D0D1[ijk] - _Gamma_U0D0D2[ijk]*_Gamma_U2D0D1[ijk] - 
_Gamma_U0D1D1[ijk]*_Gamma_U1D0D0[ijk] - _Gamma_U0D1D2[ijk]*
_Gamma_U2D0D0[ijk] - _Gamma_U1D0D1[ijk]*_Gamma_U1D1D1[ijk] - 
_Gamma_U1D0D2[ijk]*_Gamma_U2D1D1[ijk] - _Gamma_U1D1D2[ijk]*
_Gamma_U2D0D1[ijk] - _Gamma_U2D0D2[ijk]*_Gamma_U2D1D2[ijk];

    double Ric4_D0D2 = 
-_Gamma_U0D0D0[ijk]*_Gamma_U0D0D2[ijk] - _Gamma_U0D0D1[ijk]*
_Gamma_U1D0D2[ijk] - _Gamma_U0D0D2[ijk]*_Gamma_U2D0D2[ijk] - 
_Gamma_U0D1D2[ijk]*_Gamma_U1D0D0[ijk] - _Gamma_U0D2D2[ijk]*
_Gamma_U2D0D0[ijk] - _Gamma_U1D0D1[ijk]*_Gamma_U1D1D2[ijk] - 
_Gamma_U1D0D2[ijk]*_Gamma_U2D1D2[ijk] - _Gamma_U1D2D2[ijk]*
_Gamma_U2D0D1[ijk] - _Gamma_U2D0D2[ijk]*_Gamma_U2D2D2[ijk];

    double Ric4_D1D1 = 
-pow(_Gamma_U0D0D1[ijk], 2) - 2.0*_Gamma_U0D1D1[ijk]*
_Gamma_U1D0D1[ijk] - 2.0*_Gamma_U0D1D2[ijk]*_Gamma_U2D0D1[ijk] - 
pow(_Gamma_U1D1D1[ijk], 2) - 2.0*_Gamma_U1D1D2[ijk]*
_Gamma_U2D1D1[ijk] - pow(_Gamma_U2D1D2[ijk], 2);

    double Ric4_D1D2 = 
-_Gamma_U0D0D1[ijk]*_Gamma_U0D0D2[ijk] - _Gamma_U0D1D1[ijk]*
_Gamma_U1D0D2[ijk] - _Gamma_U0D1D2[ijk]*_Gamma_U1D0D1[ijk] - 
_Gamma_U0D1D2[ijk]*_Gamma_U2D0D2[ijk] - _Gamma_U0D2D2[ijk]*
_Gamma_U2D0D1[ijk] - _Gamma_U1D1D1[ijk]*_Gamma_U1D1D2[ijk] - 
_Gamma_U1D1D2[ijk]*_Gamma_U2D1D2[ijk] - _Gamma_U1D2D2[ijk]*
_Gamma_U2D1D1[ijk] - _Gamma_U2D1D2[ijk]*_Gamma_U2D2D2[ijk];

    double Ric4_D2D2 = 
-pow(_Gamma_U0D0D2[ijk], 2) - 2.0*_Gamma_U0D1D2[ijk]*
_Gamma_U1D0D2[ijk] - 2.0*_Gamma_U0D2D2[ijk]*_Gamma_U2D0D2[ijk] - 
pow(_Gamma_U1D1D2[ijk], 2) - 2.0*_Gamma_U1D2D2[ijk]*
_Gamma_U2D1D2[ijk] - pow(_Gamma_U2D2D2[ijk], 2);

    double Ric_D1D1 = 
Ric1_D1D1 + Ric2_D1D1 + Ric3_D1D1 + Ric4_D1D1;

    double Ric_D1D2 = 
Ric1_D1D2 + Ric2_D1D2 + Ric3_D1D2 + Ric4_D1D2;

    double Ric_D2D2 = 
Ric1_D2D2 + Ric2_D2D2 + Ric3_D2D2 + Ric4_D2D2;

    double Ric_D0D1 = 
Ric1_D0D1 + Ric2_D0D1 + Ric3_D0D1 + Ric4_D0D1;

    double Ric_D0D0 = 
Ric1_D0D0 + Ric2_D0D0 + Ric3_D0D0 + Ric4_D0D0;

    double Ric_D0D2 = 
Ric1_D0D2 + Ric2_D0D2 + Ric3_D0D2 + Ric4_D0D2;

    double R = 
Ric_D0D0*_gammaI_U0U0[ijk] + 2.0*Ric_D0D1*_gammaI_U0U1[ijk] + 2.0*
Ric_D0D2*_gammaI_U0U2[ijk] + Ric_D1D1*_gammaI_U1U1[ijk] + 2.0*Ric_D1D2*
_gammaI_U1U2[ijk] + Ric_D2D2*_gammaI_U2U2[ijk];

      _R[ijk] = R;

      /* populating: */
      _Ric_D2D2[ijk] = Ric_D2D2;
      _Ric_D1D2[ijk] = Ric_D1D2;
      _Ric_D1D1[ijk] = Ric_D1D1;
      _Ric_D0D2[ijk] = Ric_D0D2;
      _Ric_D0D1[ijk] = Ric_D0D1;
      _Ric_D0D0[ijk] = Ric_D0D0;
    }/*end of for(ijk = 0; ijk < nn; ++ijk)*/
  }
}
